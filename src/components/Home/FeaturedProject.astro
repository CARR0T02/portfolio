---
import { Icon } from 'astro-icon';
const { project } = Astro.props;
---

<article class='card'>
  <a href={'/portfolio/projects/' + project.slug} class='link'>
    <div class='container'>
      <h3 class='flex'>
        {project.data.title}
        <Icon name='radix-icons:arrow-top-right' class='icon small lg-hidden' />
      </h3>
      <p>{project.data.description}</p>
    </div>

    <img src={project.data.imageSrc} alt='' />
  </a>
</article>
<style>
  h3 {
    margin-block: 0.5rem;
  }

  p {
    margin-block: 0.5rem;
    max-width: 420px;
  }

  img {
    border-radius: 4px;
    max-width: 300px;
  }

  .container {
    text-align: left;
    display: flex;
    flex-direction: column;
  }

  .card {
    box-sizing: content-box;
    padding-block: 1.2rem;
    margin-bottom: 4rem;
  }

  @media screen and (max-width: 1024px) {
    article {
      border-bottom: 2px solid var(--clr-main-opaque);
    }
  }

  @media screen and (min-width: 1024px) {
    a {
      display: flex;
      justify-content: space-between;
      gap: 4rem;
    }
    .container {
      display: flex;
      gap: 1rem;
    }

    .card {
      padding-inline: 1rem;
      border-radius: 10px;
      transition: all 300ms ease;
      cursor: pointer;
    }
    .card:hover {
      background-color: var(--card-hover);
    }
  }

  /* FReveal Animation */
  @keyframes reveal {
    from {
      opacity: 0.6;
      clip-path: inset(45% 20% 45% 20%);
    }
    to {
      opacity: 1;
      clip-path: inset(0% 0% 0% 0%);
    }
  }

  .card {
    view-timeline-name: --revealing-image;
    view-timeline-axis: block;
    animation: linear reveal both;
    animation-timeline: --revealing-image;
    animation-range: entry 10% cover 30%;
  }
</style>
